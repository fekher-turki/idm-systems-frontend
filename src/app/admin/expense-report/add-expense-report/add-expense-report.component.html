<h3>Add a new ExpenseReport</h3>
<div [hidden]="submitted" style="width: 300px;">
    <form (ngSubmit)="onSubmit()" ngNativeValidate>
        <div class="form-group">
            <label for="reference">Reference</label>
            <input type="text" class="form-control" id="reference" required [(ngModel)]="expenseReport.reference" name="reference">
        </div>

        <div class="form-group">
            <label for="requesterTeam">Requester</label>
            <select class="form-control" id="requesterTeam" required [(ngModel)]="expenseReport.requesterTeam" name="requesterTeam">
                <option *ngFor="let requesterTeam of requesterTeams | async" [ngValue]="requesterTeam">
                    [Team: {{requesterTeam.team.description}}] {{requesterTeam.requester.employee.personal_number}} >> {{requesterTeam.requester.employee.first_name}} {{requesterTeam.requester.employee.last_name}}
                </option>
            </select>
        </div>

        <div class="form-group">
            <label for="date_start">Date start</label>
            <input type="date" class="form-control" id="date_start" required [(ngModel)]="expenseReport.date_start" name="date_start">
        </div>

        <div class="form-group">
            <label for="date_end">Date end</label>
            <input type="date" class="form-control" id="date_end" required [(ngModel)]="expenseReport.date_end" name="date_end">
        </div>

        <div class="form-group">
            <label for="rule">Rule</label>
            <select class="form-control" id="rule" required [(ngModel)]="expenseReport.rule" name="requesterTeam">
                <option *ngFor="let rule of rules | async" [ngValue]="rule">{{rule.description}}
                </option>
            </select>
        </div>

        <div class="form-group">
            <label for="sourceTeam">Source team</label>
            <select class="form-control" id="sourceTeam" required [(ngModel)]="expenseReport.sourceTeam" name="requesterTeam">
                <option *ngFor="let sourceTeam of sourceTeams | async" [ngValue]="sourceTeam">{{sourceTeam.source.description}} - {{sourceTeam.team.description}}
                </option>
            </select>
        </div>

        <button type="submit" class="btn btn-success">Submit</button>
        <button class="btn btn-secondary" routerLink="/admin/expenseReports" routerLinkActive="active">Go back</button>
    </form>
</div>
<div [hidden]="!submitted">
    <h4>You submitted successfully!</h4>
    <button class="btn btn-success" (click)="newExpenseReport()">Add</button>
    <button class="btn btn-secondary" routerLink="/admin/expenseReports" routerLinkActive="active">Go back</button>
</div>
